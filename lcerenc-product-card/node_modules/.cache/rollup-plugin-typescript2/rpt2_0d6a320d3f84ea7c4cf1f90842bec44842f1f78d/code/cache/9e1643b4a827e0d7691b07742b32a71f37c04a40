{"code":"import { useEffect, useRef, useState } from \"react\";\r\nconst useProduct = ({ product, onChange, value = 0, initialValues, }) => {\r\n    const [counter, setCounter] = useState(initialValues?.count || value);\r\n    console.log(initialValues);\r\n    const isMounted = useRef(false);\r\n    const increaseBy = (value) => {\r\n        let newValue = Math.max(counter + value, 0);\r\n        if (initialValues?.maxCount) {\r\n            newValue = Math.min(newValue, initialValues.maxCount);\r\n        }\r\n        setCounter(newValue);\r\n        onChange && onChange({ count: newValue, product });\r\n    };\r\n    const reset = () => {\r\n        setCounter(initialValues?.count || value);\r\n    };\r\n    useEffect(() => {\r\n        if (!isMounted.current) {\r\n            return;\r\n        }\r\n        setCounter(value);\r\n        console.log(\"Mounted or updated component\");\r\n    }, [value]);\r\n    useEffect(() => {\r\n        console.log(\"Mounted component\");\r\n        isMounted.current = true;\r\n        return () => {\r\n            isMounted.current = false;\r\n            console.log(isMounted.current);\r\n        };\r\n    }, []);\r\n    return { increaseBy, counter, isMaxCountReached: !!initialValues?.count && initialValues.maxCount === counter, reset };\r\n};\r\nexport default useProduct;\r\n//# sourceMappingURL=useProduct.js.map","references":["/home/projects/02-ReactPro/01-react-app/lcerenc-product-card/node_modules/@types/react/ts5.0/index.d.ts","/home/projects/02-ReactPro/01-react-app/lcerenc-product-card/src/interfaces/interfaces.ts"],"map":"{\"version\":3,\"file\":\"useProduct.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/hooks/useProduct.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAcpD,MAAM,UAAU,GAAG,CAAC,EAClB,OAAO,EACP,QAAQ,EACR,KAAK,GAAG,CAAC,EACT,aAAa,GACE,EAAE,EAAE;IACnB,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,aAAa,EAAE,KAAK,IAAI,KAAK,CAAC,CAAC;IACtE,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAE3B,MAAM,SAAS,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;IAEhC,MAAM,UAAU,GAAG,CAAC,KAAa,EAAE,EAAE;QACnC,IAAI,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,EAAE,CAAC,CAAC,CAAC;QAE5C,IAAI,aAAa,EAAE,QAAQ,EAAE;YAC3B,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,aAAa,CAAC,QAAQ,CAAC,CAAC;SACvD;QAGD,UAAU,CAAC,QAAQ,CAAC,CAAC;QAErB,QAAQ,IAAI,QAAQ,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,CAAC;IACrD,CAAC,CAAC;IAEF,MAAM,KAAK,GAAG,GAAG,EAAE;QACjB,UAAU,CAAC,aAAa,EAAE,KAAK,IAAI,KAAK,CAAC,CAAC;IAC5C,CAAC,CAAA;IAED,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YACtB,OAAO;SACR;QAED,UAAU,CAAC,KAAK,CAAC,CAAC;QAClB,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;IAC9C,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IAEZ,SAAS,CAAC,GAAG,EAAE;QACb,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;QACjC,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC;QACzB,OAAO,GAAG,EAAE;YACV,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC;YAC1B,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QACjC,CAAC,CAAA;IACH,CAAC,EAAE,EAAE,CAAC,CAAC;IAGP,OAAO,EAAE,UAAU,EAAE,OAAO,EAAE,iBAAiB,EAAE,CAAC,CAAC,aAAa,EAAE,KAAK,IAAI,aAAa,CAAC,QAAQ,KAAK,OAAO,EAAE,KAAK,EAAE,CAAC;AACzH,CAAC,CAAC;AAEF,eAAe,UAAU,CAAC\"}"}
